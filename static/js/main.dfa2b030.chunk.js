(this["webpackJsonp07-gallery-app"]=this["webpackJsonp07-gallery-app"]||[]).push([[0],{33:function(e,t,a){e.exports=a(63)},38:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),s=a.n(c),o=(a(38),a(30)),l=a(10),i=a.n(l),u=a(16),h=a(11),m=a(12),d=a(14),f=a(13),p=a(8),v=a(1),E=a(31),b=a.n(E),g=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.searchPhotos(this.query.value);var t="/search/".concat(this.query.value);this.props.history.push(t),e.currentTarget.reset()}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},className:"search-form"},r.a.createElement("input",{ref:function(t){return e.query=t},type:"search",name:"search",placeholder:"Search",required:!0}),r.a.createElement("button",{type:"submit",className:"search-button"},r.a.createElement("svg",{fill:"#fff",height:"24",viewBox:"0 0 23 23",width:"24",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))))}}]),a}(n.Component),y=Object(v.g)(g),k=function(){return r.a.createElement("nav",{className:"main-nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(p.b,{to:"/bicycles"},"Bicycles")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/forest"},"Forest")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/landscapes"},"Landscapes"))))},w=function(){return r.a.createElement("div",null,"Not Found!")},P=function(e){var t=e.farmId,a=e.serverId,n=e.id,c=e.secret;return r.a.createElement("li",null,r.a.createElement("img",{src:"https://farm".concat(t,".staticflickr.com/").concat(a,"/").concat(n,"_").concat(c,".jpg"),alt:""}))},j=function(){return r.a.createElement("li",{className:"not-found"},r.a.createElement("h3",null,"No Results Found"),r.a.createElement("p",null,"Your search did not return any results. Please try again."))},q=function(e){var t=e.isLoading,a=e.data,n=e.match,c=n.url.replace(/^\//g,"");c.startsWith("search")&&(c=n.params.query);var s=a.map((function(e){return r.a.createElement(P,{key:e.id,farmId:e.farm,serverId:e.server,id:e.id,secret:e.secret,alt:e.alt})}));return r.a.createElement("div",{className:"photo-container"},t?r.a.createElement("img",{src:"/search.gif",alt:"search gif"}):s.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Results for: ",c),r.a.createElement("ul",null,s)):r.a.createElement("ul",null,r.a.createElement(j,null)))},L=(a(62),"2357507bfdf5a2e8a96d7b715154d5b1"),O=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={search:[],bikePhotos:[],landscapePhotos:[],forestPhotos:[],isLoading:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.fetchPhotos("bicycles","bikePhotos"),this.fetchPhotos("forest","forestPhotos"),this.fetchPhotos("landscape","landscapePhotos");case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchPhotos",value:function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n,r,c=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:"search",this.setState({isLoading:!0}),e.prev=2,e.next=5,b.a.get("https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=".concat(L,"&tags=").concat(t,"&per_page=24&format=json&nojsoncallback=1"));case 5:(n=e.sent).data&&(r=n.data.photos,this.setState(Object(o.a)({},a,r.photo))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("there has been an error fetching photos");case 12:return e.prev=12,this.setState({isLoading:!1}),e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[2,9,12,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(p.a,null,r.a.createElement("div",{className:"container"},r.a.createElement(y,{searchPhotos:this.fetchPhotos.bind(this)}),r.a.createElement(k,null),r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/",render:function(){return r.a.createElement(v.a,{to:"/forest"})}}),r.a.createElement(v.b,{path:"/search/:query",render:function(t){var a=t.match;return r.a.createElement(q,{query:e.state.query,isLoading:e.state.isLoading,data:e.state.search,match:a})}}),r.a.createElement(v.b,{path:"/bicycles",render:function(t){var a=t.match;return r.a.createElement(q,{query:e.state.query,isLoading:e.state.isLoading,data:e.state.bikePhotos,match:a})}}),r.a.createElement(v.b,{path:"/forest",render:function(t){var a=t.match;return r.a.createElement(q,{query:e.state.query,isLoading:e.state.isLoading,data:e.state.forestPhotos,match:a})}}),r.a.createElement(v.b,{path:"/landscapes",render:function(t){var a=t.match;return r.a.createElement(q,{query:e.state.query,isLoading:e.state.isLoading,data:e.state.landscapePhotos,match:a})}}),r.a.createElement(v.b,{path:"/404",component:w}),r.a.createElement(v.b,{render:function(){return r.a.createElement(v.a,{to:"/404"})}}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.dfa2b030.chunk.js.map